(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{964:function(e,t,s){Promise.resolve().then(s.bind(s,2977))},2977:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(7437),r=s(8184),i=s(1787),n=s(7228),l=s(5145),c=s(3145),o=s(9376),d=s(2265),u=s(1620),x=s(1449),h=s(2869),f=s(7992),m=e=>{let{audioUrl:t,podcastTitle:s,author:r,imageUrl:n,podcastId:m,imageStorageId:p,audioStorageId:g,isOwner:v,authorImageUrl:j,authorId:w}=e,N=(0,o.useRouter)(),{setAudio:b}=(0,x.Q)(),{toast:y}=(0,f.pm)(),[T,S]=(0,d.useState)(!1),E=(0,l.Db)(u.h.podcasts.deletePodcast),_=async()=>{try{await E({podcastId:m,imageStorageId:p,audioStorageId:g}),y({title:"Podcast deleted"}),N.push("/")}catch(e){console.error("Error deleting podcast",e),y({title:"Error deleting podcast",variant:"destructive"})}};return n&&j?(0,a.jsxs)("div",{className:"mt-6 flex w-full justify-between max-md:justify-center",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-8 max-md:items-center md:flex-row",children:[(0,a.jsx)(c.default,{src:n,width:250,height:250,alt:"Podcast image",className:"aspect-square rounded-lg"}),(0,a.jsxs)("div",{className:"flex w-full flex-col gap-5 max-md:items-center md:gap-9",children:[(0,a.jsxs)("article",{className:"flex flex-col gap-2 max-md:items-center",children:[(0,a.jsx)("h1",{className:"text-32 font-extrabold tracking-[-0.32px] text-white-1",children:s}),(0,a.jsxs)("figure",{className:"flex cursor-pointer items-center gap-2",onClick:()=>{N.push("/profile/".concat(w))},children:[(0,a.jsx)(c.default,{src:j,width:30,height:30,alt:"Caster icon",className:"size-[30px] rounded-full object-cover"}),(0,a.jsx)("h2",{className:"text-16 font-normal text-white-3",children:r})]})]}),(0,a.jsxs)(h.z,{onClick:()=>{b({title:s,audioUrl:t,imageUrl:n,author:r,podcastId:m})},className:"text-16 w-full max-w-[250px] bg-[--accent-color] font-extrabold text-white-1",children:[(0,a.jsx)(c.default,{src:"/icons/Play.svg",width:20,height:20,alt:"random play"})," ","\xa0 Play podcast"]})]})]}),v&&(0,a.jsxs)("div",{className:"relative mt-2",children:[(0,a.jsx)(c.default,{src:"/icons/three-dots.svg",width:20,height:30,alt:"Three dots icon",className:"cursor-pointer",onClick:()=>S(e=>!e)}),T&&(0,a.jsxs)("div",{className:"absolute -left-32 -top-2 z-10 flex w-32 cursor-pointer justify-center gap-2 rounded-md bg-black-6 py-1.5 hover:bg-black-2",onClick:_,children:[(0,a.jsx)(c.default,{src:"/icons/delete.svg",width:16,height:16,alt:"Delete icon"}),(0,a.jsx)("h2",{className:"text-16 font-normal text-white-1",children:"Delete"})]})]})]}):(0,a.jsx)(i.Z,{})},p=s(7770),g=e=>{let{params:{podcastId:t}}=e,{user:s}=(0,p.aF)(),o=(0,l.aM)(u.h.podcasts.getPodcastById,{podcastId:t}),d=(0,l.aM)(u.h.podcasts.getPodcastByVoiceType,{podcastId:t}),x=(null==s?void 0:s.id)===(null==o?void 0:o.authorId);return d&&o?(0,a.jsxs)("section",{className:"flex w-full flex-col",children:[(0,a.jsxs)("header",{className:"mt-9 flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-20 font-bold text-white-1",children:"Currenty Playing"}),(0,a.jsxs)("figure",{className:"flex gap-3",children:[(0,a.jsx)(c.default,{src:"/icons/headphone.svg",width:24,height:24,alt:"headphone"}),(0,a.jsx)("h2",{className:"text-16 font-bold text-white-1",children:null==o?void 0:o.views})]})]}),(0,a.jsx)(m,{isOwner:x,podcastId:o._id,...o}),(0,a.jsx)("p",{className:"text-white-2 text-16 pb-8 pt-[45px] font-medium max-md:text-center",children:null==o?void 0:o.podcastDescription}),(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("h1",{className:"text-18 font-bold text-white-1",children:"Transcription"}),(0,a.jsx)("p",{className:"text-16 font-medium text-white-2",children:null==o?void 0:o.voicePrompt})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("h1",{className:"text-18 font-bold text-white-1",children:"Thumbnail Prompt"}),(0,a.jsx)("p",{className:"text-16 font-medium text-white-2",children:null==o?void 0:o.imagePrompt})]})]}),(0,a.jsxs)("section",{className:"mt-8 flex flex-col gap-5",children:[(0,a.jsx)("h1",{className:"text-20 font-bold text-white-1",children:"Similar Podcasts"}),d&&d.length>0?(0,a.jsx)("div",{className:"podcast_grid",children:null==d?void 0:d.map(e=>{let{_id:t,podcastTitle:s,podcastDescription:r,imageUrl:i}=e;return(0,a.jsx)(n.Z,{imgUrl:i,title:s,description:r,podcastId:t},t)})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Z,{title:"No similar podcasts found",buttonLink:"/discover",buttonText:"Discover more podcasts"})})]})]}):(0,a.jsx)(i.Z,{})}},8184:function(e,t,s){"use strict";var a=s(7437),r=s(3145);s(2265);var i=s(2869),n=s(7648);t.Z=e=>{let{title:t,search:s,buttonLink:l,buttonText:c}=e;return(0,a.jsxs)("section",{className:"flex-center size-full flex-col gap-3",children:[(0,a.jsx)(r.default,{src:"/icons/emptyState.svg",width:250,height:250,alt:"empty state"}),(0,a.jsxs)("div",{className:"flex-center w-full max-w-[254px] flex-col gap-3",children:[(0,a.jsx)("h1",{className:"text-16 text-center font-medium text-white-1",children:t}),s&&(0,a.jsx)("p",{className:"text-16 text-center font-medium text-white-2",children:"Try adjusting your search to find what you are looking for"}),l&&(0,a.jsx)(i.z,{className:"bg-[--accent-color]",children:(0,a.jsxs)(n.default,{href:l,className:"gap-1 flex",children:[(0,a.jsx)(r.default,{src:"/icons/discover.svg",width:20,height:20,alt:"discover"}),(0,a.jsx)("h1",{className:"text-16 font-extrabold text-white-1",children:c})]})})]})]})}},1787:function(e,t,s){"use strict";var a=s(7437),r=s(6540);s(2265),t.Z=()=>(0,a.jsx)("div",{className:"flex-center h-screen w-full",children:(0,a.jsx)(r.Z,{className:"animate-spin text-[--accent-color]",size:30})})},7228:function(e,t,s){"use strict";var a=s(7437),r=s(3145),i=s(9376);s(2265),t.Z=e=>{let{imgUrl:t,title:s,description:n,podcastId:l}=e,c=(0,i.useRouter)();return(0,a.jsx)("div",{className:"cursor-pointer",onClick:()=>{c.push("/podcasts/".concat(l),{scroll:!0})},children:(0,a.jsxs)("figure",{className:"flex flex-col gap-2",children:[(0,a.jsx)(r.default,{src:t,width:174,height:174,alt:s,className:"aspect-square h-fit w-full rounded-xl 2xl:size-[200px]"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h1",{className:"text-16 truncate font-bold text-white-1",children:s}),(0,a.jsx)("h2",{className:"text-12 truncate font-normal capitalize text-white-4",children:n})]})]})})}},2869:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var a=s(7437),r=s(2265),i=s(7053),n=s(7712),l=s(4508);let c=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",plain:"border-none bg-transparent text-[16px] font-bold leading-normal text-white-1"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:o=!1,...d}=e,u=o?i.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(c({variant:r,size:n,className:s})),ref:t,...d})});o.displayName="Button"},7992:function(e,t,s){"use strict";s.d(t,{pm:function(){return x}});var a=s(2265);let r=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],o={toasts:[]};function d(e){o=l(o,e),c.forEach(e=>{e(o)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function x(){let[e,t]=a.useState(o);return a.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},1620:function(e,t,s){"use strict";s.d(t,{h:function(){return a}});let a=s(1321).qL},4508:function(e,t,s){"use strict";s.d(t,{cn:function(){return i}});var a=s(1994),r=s(3335);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},1449:function(e,t,s){"use strict";s.d(t,{Q:function(){return l}});var a=s(7437),r=s(9376),i=s(2265);let n=(0,i.createContext)(void 0),l=()=>{let e=(0,i.useContext)(n);if(!e)throw Error("useAudio must be used within an AudioProvider");return e};t.default=e=>{let{children:t}=e,[s,l]=(0,i.useState)(),c=(0,r.usePathname)();return(0,i.useEffect)(()=>{"/create-podcast"===c&&l(void 0)},[c]),(0,a.jsx)(n.Provider,{value:{audio:s,setAudio:l},children:t})}}},function(e){e.O(0,[316,878,770,37,730,591,648,971,117,744],function(){return e(e.s=964)}),_N_E=e.O()}]);